// 카테고리와 감정, 날씨에 대한 키워드 매핑
export const categoryKeywords = {
  exercise: [
    '운동', '조깅', '헬스', '요가', '수영', '러닝', '체육', '스포츠', 
    '산책', '걷기', '등산', '자전거', '필라테스', '스트레칭', '근력운동', 
    '웨이트', '줌바', '크로스핏', '홈트', '운동하고', '운동함', '운동중', 
    '운동하는', '런닝머신', '피트니스'
  ],
  meal: [
    '식사', '밥', '먹기', '식당', '외식', '요리', '음식', '점심', '저녁', 
    '아침', '브런치', '디저트', '간식', '카페', '맛집', '배달', '야식', 
    '혼밥', '회식', '먹는중', '먹음', '식사중', '밥먹기', '커피'
  ],
  work: [
    '업무', '일', '회의', '미팅', '프로젝트', '작업', '근무', '야근', 
    '출근', '퇴근', '재택', '업무보고', '발표', '문서작성', '이메일', 
    '전화회의', '화상회의', '일하는중', '일함', '업무중', '회사'
  ],
  study: [
    '공부', '학습', '강의', '수업', '독서', '학원', '과외', '시험', 
    '과제', '숙제', '온라인강의', '복습', '예습', '자격증', '스터디', 
    '연구', '논문', '공부중', '공부함', '학습중', '배우기'
  ],
  leisure: [
    '여가', '게임', '취미', '오락', '휴식', '즐기기', '재미', '여유', 
    '자유시간', '휴일', '주말', '놀이', '게임중', '즐기는중', '쉼'
  ],
  social: [
    '사교', '만남', '약속', '모임', '데이트', '친구', '친구만남', 
    '사람만나기', '모임중', '만나는중', '커뮤니티'
  ],
  rest: [
    '휴식', '쉬기', '낮잠', '쉼', '휴식시간', '쉼표', '휴식중', '쉬는중'
  ],
  hobby: [
    '취미', '그림', '악기', '공예', '만들기', 'DIY', '드로잉', '취미생활'
  ],
  shopping: [
    '쇼핑', '구매', '장보기', '마트', '백화점', '쇼핑중', '구입', '사기'
  ],
  housework: [
    '가사', '집안일', '설거지', '빨래', '청소', '정리', '집정리', '집안일중'
  ],
  health: [
    '건강', '병원', '치료', '검진', '진료', '건강관리', '병원갔다'
  ],
  reading: [
    '독서', '책', '읽기', '도서', '책읽기', '독서중', '읽는중'
  ],
  music: [
    '음악', '노래', '연주', '공연', '콘서트', '음악듣기', '노래부르기'
  ],
  photo: [
    '사진', '촬영', '카메라', '사진찍기', '촬영중', '사진촬영'
  ],
  travel: [
    '여행', '관광', '투어', '구경', '여행중', '여행가기', '여행함'
  ],
  transport: [
    '이동', '교통', '운전', '통근', '통학', '버스', '지하철', '택시'
  ],
  call: [
    '통화', '전화', '콜', '연락', '전화중', '통화중'
  ],
  parenting: [
    '육아', '아이', '돌봄', '양육', '아이돌보기', '육아중'
  ],
  movie: [
    '영화', '영화보기', '극장', '시네마', '영화관', '영화봄'
  ],
  fashion: [
    '패션', '옷', '코디', '옷입기', '스타일', '패션쇼핑'
  ],
  cleaning: [
    '청소', '정리', '정돈', '쓰레기', '분리수거', '청소중'
  ]
};

export const moodKeywords = {
  joy: [
    '기쁨', '기분좋음', '행복', '좋음', '기뻐', '신나', '최고', '완벽', 
    '대박', '짱', '굿', '좋다', '행복해', '기뻤어', '즐거워', '좋아서'
  ],
  neutral: [
    '보통', '평범', '그냥', '무난', '괜찮음', '그저그럼', '적당', '중간', 
    '애매', '보통이야', '괜찮아'
  ],
  sad: [
    '슬픔', '우울', '슬퍼', '속상', '마음아픔', '눈물', '서러움', '울적', 
    '우울해', '힘들다', '괴로움', '답답', '울고싶다', '슬프네'
  ],
  love: [
    '사랑', '설렘', '좋아', '사랑스러움', '달달', '심쿵', '애정', '사랑해', 
    '너무좋아', '설레', '좋아해'
  ],
  angry: [
    '분노', '화남', '짜증', '열받음', '화가남', '빡침', '화나', '짜증나', 
    '미치겠다', '화가치밀어', '억울', '열받아', '짜증남'
  ],
  laugh: [
    '웃음', '재미', '즐거움', '유쾌', '웃겨', '웃기네', '재밌어'
  ],
  annoyed: [
    '짜증', '귀찮음', '짜증남', '귀찮아', '귀찮네', '짜증스러워'
  ],
  tired: [
    '피곤', '지침', '힘듦', '피곤함', '지쳤어', '힘들어', '피곤해'
  ],
  excited: [
    '신남', '설렘', '기대', '들뜸', '신나네', '기대돼', '설렌다'
  ],
  sick: [
    '아픔', '몸살', '질병', '아프다', '아파', '몸이아파'
  ],
  chill: [
    '여유', '평화', '편안', '느긋', '편해', '평화로워', '안정'
  ],
  thinking: [
    '생각', '고민', '사색', '궁금', '생각중', '고민중', '궁금해'
  ],
  flutter: [
    '설렘', '두근', '기대', '두근거려', '설레네'
  ],
  sleepy: [
    '졸림', '졸려', '잠오는', '나른', '졸리네', '자는중'
  ]
};

export const weatherKeywords = {
  sunny: [
    '맑음', '햇살', '맑은', '화창', '쨍쨍', '맑아', '햇볕', '맑은날'
  ],
  moon: [
    '달', '달밤', '달빛', '밤하늘'
  ],
  moonStar: [
    '달과 별', '별이 뜬', '달과별', '별빛'
  ],
  cloudMoon: [
    '구름 낀 달', '흐린 달밤', '구름달'
  ],
  sunrise: [
    '일출', '해돋이', '아침해', '동틀녘'
  ],
  sunset: [
    '일몰', '해질녘', '저녁노을', '노을'
  ],
  cloudy: [
    '흐림', '구름', '흐린', '구름낀', '흐려'
  ],
  veryCloudy: [
    '매우 흐림', '잔뜩 흐림', '온흐림', '완전흐림'
  ],
  drizzle: [
    '이슬비', '가랑비', '부슬비'
  ],
  rainy: [
    '비', '비오는', '장마', '비옴', '비가와'
  ],
  hail: [
    '우박', '우박이 내림', '우박비'
  ],
  snowy: [
    '눈', '눈오는', '함박눈', '눈옴', '눈내려'
  ],
  storm: [
    '폭풍', '번개', '천둥', '폭풍우'
  ],
  foggy: [
    '안개', '안개낀', '흐릿한', '안개가'
  ],
  windy: [
    '강풍', '바람', '센바람', '바람불어'
  ],
  tornado: [
    '토네이도', '회오리바람', '회오리'
  ],
  veryHot: [
    '매우 더움', '폭염', '찜통더위', '너무더워'
  ],
  hot: [
    '더움', '더운', '덥다', '더워'
  ],
  veryCold: [
    '매우 추움', '한파', '극한추위', '너무추워'
  ],
  cold: [
    '추움', '추운', '춥다', '추워'
  ],
  humid: [
    '습함', '습한', '후덥지근', '습해'
  ],
  rainbow: [
    '무지개', '무지개뜬', '무지개가'
  ],
  umbrella: [
    '우산', '비가와서', '우산챙겨'
  ],
  waves: [
    '파도', '파도치는', '파도가'
  ],
  pressure: [
    '기압', '저기압', '고기압'
  ]
};

// 단어 경계를 고려한 정규식 생성 함수
function createKeywordRegex(keywords) {
  return new RegExp(`(^|\\s)(${keywords.join('|')})(\\s|$)`, 'i');
}

export function findCategory(text) {
  for (const [category, keywords] of Object.entries(categoryKeywords)) {
    const regex = createKeywordRegex(keywords);
    if (regex.test(text)) {
      return category;
    }
  }
  return null;
}

export function findMood(text) {
  for (const [mood, keywords] of Object.entries(moodKeywords)) {
    const regex = createKeywordRegex(keywords);
    if (regex.test(text)) {
      return mood;
    }
  }
  return null;
}

export function findWeather(text) {
  for (const [weather, keywords] of Object.entries(weatherKeywords)) {
    const regex = createKeywordRegex(keywords);
    if (regex.test(text)) {
      return weather;
    }
  }
  return null;
}